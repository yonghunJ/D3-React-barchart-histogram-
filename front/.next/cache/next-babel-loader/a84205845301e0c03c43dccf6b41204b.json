{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as d3 from 'd3';\nimport * as dp from \"./dataProcesing\";\nconst MARGIN = {\n  TOP: 50,\n  BOTTOM: 100,\n  LEFT: 70,\n  RIGHT: 10\n};\nconst WIDTH = 1100 - MARGIN.LEFT - MARGIN.RIGHT;\nconst HEIGHT = 600 - MARGIN.BOTTOM - MARGIN.TOP;\nexport default class D3Chart {\n  constructor(element) {\n    _defineProperty(this, \"state\", {\n      y_axis: \"helo\"\n    });\n\n    const vis = this;\n    vis.svg = d3.select(element).append(\"svg\").attr(\"width\", WIDTH + MARGIN.LEFT + MARGIN.RIGHT).attr(\"height\", HEIGHT + MARGIN.BOTTOM + MARGIN.TOP).append(\"g\").attr(\"transform\", \"translate(\".concat(MARGIN.LEFT, \",\").concat(MARGIN.TOP, \")\"));\n    vis.xLabel = vis.svg.append('text').attr(\"x\", WIDTH / 2).attr(\"y\", HEIGHT + 50).attr(\"text-anchor\", \"middle\").text(\"The world's tallest men\");\n    vis.yLabel = vis.svg.append('text').attr(\"x\", -(HEIGHT / 2)).attr(\"y\", -50).attr(\"text-anchor\", \"middle\").text(this.state.y_axis).attr(\"transform\", \"rotate(-90)\");\n    vis.tooltip = vis.svg.append('text');\n    vis.xAixsGroup = vis.svg.append('g').attr(\"transform\", \"translate(0,\".concat(HEIGHT, \")\"));\n    vis.yAxisGroup = vis.svg.append('g');\n    Promise.all([d3.csv(\"/Unemployment_mental_illness.csv\")]).then(dataset => {\n      // First Comparing\n      let [a, b] = dp.Unemployment_Education(dataset[0]);\n      vis.unemployment_Education = a;\n      vis.employment_Education = b; // Second Comparing\n\n      let [c, d] = dp.ResumeeGapAndSalary(dataset[0]);\n      vis.unemployment_ResumeGap = c;\n      vis.employment_ResumeGap = d;\n      let [e, f] = dp.AnnualSalarybyMentalIllness(dataset[0]);\n      vis.SelfIllness = e;\n      vis.NonSelfIllness = f;\n      vis.Age_Depression = dp.Age_Depression(dataset[0]);\n      vis.update('Uneployment_Education'); // vis.updateHistogram('SelfIllness_AnnualSalary')\n    });\n  }\n\n  update(gender) {\n    const vis = this;\n    const y = d3.scaleLinear();\n    const x = d3.scaleBand(); // First Update\n\n    if (gender === \"Uneployment_Education\") {\n      vis.data = vis.unemployment_Education;\n      vis.xLabel.text(\"Education Level\");\n      vis.yLabel.text(\"The number of Uneployment people\");\n    }\n\n    if (gender === \"Employment_Education\") {\n      vis.data = vis.employment_Education;\n      vis.xLabel.text(\"Education Level\");\n      vis.yLabel.text(\"The number of Eployment people\");\n    } // Second Update\n\n\n    if (gender === \"UnEmployment_ResumeGap\") {\n      vis.data = vis.unemployment_ResumeGap;\n      vis.xLabel.text(\"Resume Gap (weeks)\");\n      vis.yLabel.text(\"The number of UnEmployed people\");\n    }\n\n    if (gender === \"Employment_ResumeGap\") {\n      vis.data = vis.employment_ResumeGap;\n      vis.xLabel.text(\"Resume Gap (weeks)\");\n      vis.yLabel.text(\"The number of Employed people\");\n    }\n\n    if (gender === \"Age_Depression\") {\n      vis.data = vis.Age_Depression;\n      vis.xLabel.text(\"Age interval(Age)\");\n      vis.yLabel.text(\"The number of people that have Depression\");\n    }\n\n    y.domain([d3.min(vis.data, d => d.height) * 0.95, d3.max(vis.data, d => d.height)]).range([HEIGHT, 0]);\n    x.domain(vis.data.map(d => d.name)).range([0, WIDTH]).padding(0.4);\n    const xAxisCall = d3.axisBottom(x);\n    vis.xAixsGroup.transition().duration(500).call(xAxisCall);\n    const yAxisCall = d3.axisLeft(y);\n    vis.yAxisGroup.transition().duration(500).call(yAxisCall); // DATA JOIN\n\n    const rects = vis.svg.selectAll(\"rect\").data(vis.data); //EXIT\n\n    rects.exit().transition().duration(500).attr('y', HEIGHT).attr('height', 0).remove(); //UPDATE\n\n    rects.transition().duration(500).attr(\"x\", (d, i) => x(d.name)).attr(\"y\", d => y(d.height)).attr(\"width\", x.bandwidth).attr(\"height\", d => HEIGHT - y(d.height)).style(\"fill\", \"#69b3a2\"); // ENTER\n\n    rects.enter().append(\"rect\").attr(\"x\", (d, i) => x(d.name)).attr(\"width\", x.bandwidth).style(\"fill\", \"#69b3a2\").attr(\"y\", HEIGHT).on('mouseover', function (d, i) {\n      y.domain([d3.min(vis.data, d => d.height) * 0.95, d3.max(vis.data, d => d.height)]).range([HEIGHT, 0]);\n      x.domain(vis.data.map(d => d.name)).range([0, WIDTH]).padding(0.4);\n      d3.select(this).transition(50).attr('opacity', '.85').attr(\"y\", y(d.height) - 10).attr(\"height\", HEIGHT - y(d.height) + 10).attr(\"x\", x(d.name) - 10).attr(\"width\", x.bandwidth() + 20);\n      vis.tooltip.attr(\"x\", x(d.name) + x.bandwidth() / 2).attr(\"y\", y(d.height) - 15).attr(\"text-anchor\", \"middle\").text(d.height);\n    }).on('mouseout', function (d, i) {\n      d3.select(this).transition().duration('50').attr('opacity', '1').attr(\"y\", y(d.height)).attr(\"height\", HEIGHT - y(d.height)).attr(\"x\", x(d.name)).attr(\"width\", x.bandwidth());\n      vis.tooltip.text(\"\");\n    }).transition().duration(500).attr(\"height\", d => HEIGHT - y(d.height)).attr(\"y\", d => y(d.height));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/rrallvv/Documents/2020_spring/visualization/LAB1/HW1/front/src/D3Chart.js"],"names":["d3","dp","MARGIN","TOP","BOTTOM","LEFT","RIGHT","WIDTH","HEIGHT","D3Chart","constructor","element","y_axis","vis","svg","select","append","attr","xLabel","text","yLabel","state","tooltip","xAixsGroup","yAxisGroup","Promise","all","csv","then","dataset","a","b","Unemployment_Education","unemployment_Education","employment_Education","c","d","ResumeeGapAndSalary","unemployment_ResumeGap","employment_ResumeGap","e","f","AnnualSalarybyMentalIllness","SelfIllness","NonSelfIllness","Age_Depression","update","gender","y","scaleLinear","x","scaleBand","data","domain","min","height","max","range","map","name","padding","xAxisCall","axisBottom","transition","duration","call","yAxisCall","axisLeft","rects","selectAll","exit","remove","i","bandwidth","style","enter","on"],"mappings":"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","sourcesContent":["import * as d3 from 'd3';\r\nimport * as dp from \"./dataProcesing\";\r\nconst MARGIN = {TOP: 50, BOTTOM: 100, LEFT: 70, RIGHT: 10};\r\nconst WIDTH = 1100 - MARGIN.LEFT - MARGIN.RIGHT;\r\nconst HEIGHT = 600 - MARGIN.BOTTOM - MARGIN.TOP;\r\n\r\nexport default class D3Chart {\r\n\tstate = {\r\n\t\ty_axis: \"helo\"\r\n\t}\r\n    constructor(element){\r\n        const vis = this\r\n\r\n        vis.svg = d3.select(element)\r\n                      .append(\"svg\")\r\n                      .attr(\"width\",WIDTH +MARGIN.LEFT + MARGIN.RIGHT)\r\n                      .attr(\"height\",HEIGHT +MARGIN.BOTTOM + MARGIN.TOP)\r\n                      .append(\"g\")\r\n                      .attr(\"transform\",`translate(${MARGIN.LEFT},${MARGIN.TOP})`)\r\n        vis.xLabel = vis.svg.append('text')\r\n           .attr(\"x\",WIDTH/2)\r\n           .attr(\"y\",HEIGHT +50)\r\n           .attr(\"text-anchor\",\"middle\") \r\n\t\t   .text(\"The world's tallest men\")\r\n\t\t   \r\n\r\n\t\tvis.yLabel = vis.svg.append('text')\r\n           .attr(\"x\",-(HEIGHT/2))\r\n           .attr(\"y\",-50)\r\n           .attr(\"text-anchor\",\"middle\")\r\n           .text(this.state.y_axis)                \r\n           .attr(\"transform\",`rotate(-90)`)\r\n\t\t\t\r\n\t\tvis.tooltip = vis.svg.append('text')\r\n           \r\n\r\n\t\t\r\n\r\n\r\n        vis.xAixsGroup = vis.svg.append('g')\r\n                                .attr(\"transform\",`translate(0,${HEIGHT})`)\r\n        vis.yAxisGroup = vis.svg.append('g')\r\n\r\n\r\n\t\t\r\n        Promise.all([\r\n\t\t\td3.csv(\"/Unemployment_mental_illness.csv\")\r\n        ]).then( (dataset)=>{\r\n\t\t\t// First Comparing\r\n\t\t\tlet [a,b] = dp.Unemployment_Education(dataset[0])\r\n\t\t\tvis.unemployment_Education =a;vis.employment_Education = b\r\n\r\n\t\t\t// Second Comparing\r\n\t\t\tlet [c,d] = dp.ResumeeGapAndSalary(dataset[0])\r\n\t\t\tvis.unemployment_ResumeGap = c;vis.employment_ResumeGap = d\r\n\r\n\t\t\tlet [e,f] = dp.AnnualSalarybyMentalIllness(dataset[0])\r\n\t\t\tvis.SelfIllness = e; vis.NonSelfIllness = f\r\n\t\t\t\r\n\t\t\tvis.Age_Depression = dp.Age_Depression(dataset[0])\r\n\r\n\t\t\tvis.update('Uneployment_Education')\r\n\t\t\t// vis.updateHistogram('SelfIllness_AnnualSalary')\r\n\r\n        })\r\n\t}\r\n    update(gender){\r\n\t\tconst vis = this\r\n\r\n\t\tconst y = d3.scaleLinear()\r\n\t\tconst x = d3.scaleBand()\r\n\r\n\t\t// First Update\r\n\t\tif(gender ===\"Uneployment_Education\"){\r\n\t\t\tvis.data = vis.unemployment_Education\r\n\t\t\tvis.xLabel.text(`Education Level`)\r\n\t\t\tvis.yLabel.text(\"The number of Uneployment people\")\r\n\t\t}\r\n\t\tif(gender ===\"Employment_Education\"){\r\n\t\t\tvis.data = vis.employment_Education\r\n\t\t\tvis.xLabel.text(`Education Level`)\r\n\t\t\tvis.yLabel.text(\"The number of Eployment people\")\r\n\t\t}\r\n\t\t// Second Update\r\n\t\tif(gender ===\"UnEmployment_ResumeGap\"){\r\n\t\t\tvis.data = vis.unemployment_ResumeGap\r\n\t\t\tvis.xLabel.text(`Resume Gap (weeks)`)\r\n\t\t\tvis.yLabel.text(\"The number of UnEmployed people\")\r\n\t\t}\r\n\t\tif(gender ===\"Employment_ResumeGap\"){\r\n\t\t\tvis.data = vis.employment_ResumeGap\r\n\t\t\tvis.xLabel.text(`Resume Gap (weeks)`)\r\n\t\t\tvis.yLabel.text(\"The number of Employed people\")\r\n\t\t}\r\n\t\tif(gender ===\"Age_Depression\"){\r\n\t\t\tvis.data = vis.Age_Depression\r\n\t\t\tvis.xLabel.text(`Age interval(Age)`)\r\n\t\t\tvis.yLabel.text(\"The number of people that have Depression\")\r\n\t\t}\r\n\r\n        y.domain([\r\n\t\t\td3.min(vis.data,d=>d.height) *0.95,\r\n\t\t\td3.max(vis.data, d=> d.height)])\r\n\t\t\t\t.range([HEIGHT,0])\r\n\t\tx.domain(vis.data.map(d=>d.name))\r\n\t\t\t.range([0,WIDTH])\r\n\t\t\t.padding(0.4)\r\n\r\n        const xAxisCall = d3.axisBottom(x)\r\n        vis.xAixsGroup.transition().duration(500).call(xAxisCall)\r\n\r\n        const yAxisCall = d3.axisLeft(y)\r\n        vis.yAxisGroup.transition().duration(500).call(yAxisCall)\r\n\r\n        // DATA JOIN\r\n        const rects = vis.svg.selectAll(\"rect\")\r\n                         .data(vis.data)\r\n        //EXIT\r\n        rects.exit().transition().duration(500)\r\n            .attr('y',HEIGHT)\r\n            .attr('height',0)\r\n            .remove()\r\n\r\n        //UPDATE\r\n        rects.transition().duration(500)\r\n            .attr(\"x\",(d,i)=>x(d.name))\r\n            .attr(\"y\",d=>y(d.height))\r\n            .attr(\"width\",x.bandwidth)\r\n\t\t\t.attr(\"height\",d => HEIGHT - y(d.height))\r\n\t\t\t.style(\"fill\", \"#69b3a2\")\r\n        // ENTER\r\n        rects.enter().append(\"rect\")\r\n\t\t\t\t\t.attr(\"x\",(d,i)=>x(d.name))\r\n\t\t\t\t\t.attr(\"width\",x.bandwidth)\r\n\t\t\t\t\t.style(\"fill\", \"#69b3a2\")\r\n\t\t\t\t\t.attr(\"y\",HEIGHT)\r\n\t\t\t\t\t\r\n\t\t\t\t\t.on('mouseover', function (d, i) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\ty.domain([\r\n\t\t\t\t\t\t\td3.min(vis.data,d=>d.height) *0.95,\r\n\t\t\t\t\t\t\td3.max(vis.data, d=> d.height)])\r\n\t\t\t\t\t\t\t\t.range([HEIGHT,0])\r\n\t\t\t\t\t\tx.domain(vis.data.map(d=>d.name))\r\n\t\t\t\t\t\t\t.range([0,WIDTH])\r\n\t\t\t\t\t\t\t.padding(0.4)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\td3.select(this).transition(50)\r\n\t\t\t\t\t\t\t.attr('opacity', '.85')\r\n\t\t\t\t\t\t\t.attr(\"y\", (y(d.height)) - 10)\r\n\t\t\t\t\t\t\t.attr(\"height\", HEIGHT - (y(d.height)) + 10)\r\n\t\t\t\t\t\t\t.attr(\"x\", (x(d.name)) - 10)\r\n\t\t\t\t\t\t\t.attr(\"width\",x.bandwidth() + 20)\r\n\t\t\t\t\t\tvis.tooltip\r\n\t\t\t\t\t\t\t.attr(\"x\",x(d.name)+ x.bandwidth() /2 )\r\n\t\t\t\t\t\t\t.attr(\"y\",y(d.height) - 15)\r\n\t\t\t\t\t\t\t.attr(\"text-anchor\",\"middle\")\r\n\t\t\t\t\t\t\t.text(d.height)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t   .on('mouseout', function (d, i) {\r\n\t\t\t\t\t\td3.select(this).transition()\r\n\t\t\t\t\t\t\t .duration('50')\r\n\t\t\t\t\t\t\t .attr('opacity', '1')\r\n\t\t\t\t\t\t\t.attr(\"y\", (y(d.height)))\r\n\t\t\t\t\t\t\t.attr(\"height\", HEIGHT - (y(d.height)))\r\n\t\t\t\t\t\t\t.attr(\"x\", (x(d.name)))\r\n\t\t\t\t\t\t\t.attr(\"width\",x.bandwidth())\r\n\t\t\t\t\t\tvis.tooltip\r\n\t\t\t\t\t\t\t.text(\"\")\r\n\t\t\t\t   })\r\n                     .transition().duration(500)\r\n                     .attr(\"height\",d => HEIGHT - y(d.height))\r\n\t\t\t\t\t .attr(\"y\",d=>y(d.height))\r\n\r\n\t}\r\n\t\r\n\t\r\n}"]},"metadata":{},"sourceType":"module"}